项目名称：大模型量化股票分析工具

系统架构：
1. 数据层：
    * 股票数据层，使用tushare获取股票的K线数据,tushare的token通过.env设置。K线：日K线，周K线，季度K线，相关指标如：MACD，EMA，SRI等数据。
    * 持仓数据层：用户当前持仓数据，包括持仓股票，持仓数量，持仓成本，持仓收益等。其中持仓股票，持仓数量，持仓成本用户输入，持仓收益系统计算。
2. 模型层：
    * 使用AI大模型模型，大模型的token通过环境变量文件.env设置，将上一部步获得的数据作为输入，得到交易策略，并模拟进行相关操作。所有的交易策略保存到 strategy文件夹中，命名为 "策略.md" ，需要记录 日期，当日的指标分析，当日交易策略。以及具体的交易情况。
    * 对话历史记录：记录用户与AI的对话历史，包括用户输入，AI输出，交易策略等。
    * 初始对话模版：用户第一次开始分析股票时可以选择固定话术，相关话术有相关功能页面进行编辑记录。

开发环境：
1. 使用venv管理开发环境
2. Python 3.8+,
3. tushare
4. AI大模型模型：使用通义千问API
5. 页面使用flask框架。
5. 数据的本地存储使用mysql，mysql存储以下数据：
    * 股票的数据，各项K线数据，指标数据。
    * 持仓数据。
    * 现金余额
    * 股票的AI分析对话记录。


功能模块 & 界面：
1. 股票分析UI界面：左、中、右分为三个FrameLayout,依次是：自选股，股票预览，AI对话记录。
    * 自选股界面：用户可以手动添加股票代码。当用户点击其中自选股后，股票预览界面，以及相关AI对话记录自动切换到对应股票的聊天记录中。
    * 股票预览界面，最上部是时间窗口选择，默认使用360天，上中下，分辨预览分钟K（默认2天窗口），日K（默认60天），周K（默认360天），
    * AI对话记录，用户和AI的对话记录，要记录对话的时间。
2. 持仓管理界面：
    * 用户录入股票代码，以及持仓数量，持仓成本，以及可用现金。
3. 初始对话模版编辑，用户可以编辑初始对话模版，可以增删改管理多套模版。

---
1. mysql更改成sqlite